<div class="navbar navbar-expand-sm navbar-light navbar-lewagon">

  <!-- Clica na logo e volta para tela inicial -->
  <%= link_to root_path, class: "logo_brand" do %>
    <%= image_tag "Logo.png" %>
  <% end %>

  <!-- Categorias com dropdown -->
  <div class="collapse navbar-collapse">
    <ul class="navbar-nav mx-auto">
      <li class="nav-item dropdown">
        <%= link_to "Categorias", "#" , class: "dropdown-toggle", id: "navbarDropdown", data: { toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
          <% Type.all.each do |type| %>
          <%= link_to type.name, '/' + type.name.downcase, class: "dropdown-item" %>
          <% end %>
        </div>
      </li>
    </ul>
  </div>


  <!-- Carrinho de compras, anunciar produto e login -->
  <div class="collapse navbar-collapse">
    <ul class="navbar-nav mr-auto">
      <% if user_signed_in? %>
        <li>
        <%= link_to carts_path do  %>
          <i class="fas fa-shopping-cart"></i>
        <% end %>
        </li>&nbsp&nbsp

        <!-- Aba do perfil -->
        <li class="nav-item dropdown">
          <%= link_to current_user.email, "#" , class: "dropdown-toggle small_size", id: "navbarDropdown", data: { toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <%= link_to 'Anunciar Produto', new_product_path, class: 'dropdown-item' %>
            <%= link_to "Perfil", "#", class: "dropdown-item" %>
            <%= link_to "Sair", destroy_user_session_path, method: :delete, class: "dropdown-item" %>
          </div>
        </li>

      <% else %>
        <li class="nav-item">
          <%= link_to "Entrar", new_user_session_path, class: "nav-link" %>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<!-- Alertas -->
<% if notice %>
  <div class="alert alert-info alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <%= notice %>
  </div>
<% end %>

<% if alert %>
  <div class="alert alert-warning alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <%= alert %>
  </div>
<% end %>
